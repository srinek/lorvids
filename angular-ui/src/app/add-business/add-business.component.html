<div class="container margin-top-10-pr">

      <div class="row margin-bottom-25">
          <div class="col-12">
            <ul class="nav nav-tabs abdb-tabs">
                <li class="active"><a href="javascript:void(0);"><span class="span1">&nbsp;1.&nbsp;</span> BUSINESS INFO</a></li>
                <li><a href="javascript:void(0);"><span class="span1">&nbsp;2.&nbsp;</span> SERVICES</a></li>
                <li><a href="javascript:void(0);"><span class="span1">&nbsp;3.&nbsp;</span> STAFF INFO</a></li>
            </ul>
          </div>

      </div>

      <div class="row">
            <div class="col-md-6">
                <h2>
                Tell us about your business.
                </h2>
                <p>Help us finish up your account details.</p>
          </div>
      </div>

      <div class="row">
        <div class="col-12">
            <hr>
        </div>
      </div>

  
  <!-- <div class="row">
      <div class="col-12">
          <hr>
      </div>
  </div> -->
  <form class="form-horizontal" 
            (ngSubmit)="addBusines()" 
            #addBusinessForm="ngForm">

            <div class="row">
                <div class="col-md-7">
                          <div class="row form-group">
                            <div class="col-md-12">
                                    <label for="id-bus-name" class="">Business Name: </label>
                                    <input type="text" class="form-control" 
                                      id="id-bus-name" 
                                      name="busName"
                                      [(ngModel)]="businessData.bus_name"
                                      class="form-control"
                                      #busName = "ngModel"
                                      placeholder="Business Name"
                                      required>

                                      <span *ngIf="busName.errors && (busName.dirty || busName.touched)" class="help-block">
                                            <span [hidden]="!busName.errors.required">
                                                Business Name is required!
                                            </span>
                                      </span>
                                 
                            </div>
                          </div>

                            <div class="row form-group">
                                    <div class="col-md-6">
                                              <label for="id-bus-Addrs" class="">Business Address</label>
                                              <input type="text" class="form-control" 
                                                id="id-bus-Addr" 
                                                name="busAddr"
                                                [(ngModel)]="businessData.address"
                                                placeholder="Business Address"
                                                #busAddr="ngModel"
                                                minlength="10"
                                                required>
                                             
                                              <span *ngIf="busAddr.errors && (busAddr.dirty || busAddr.touched)" class="help-block">
                                                <span [hidden]="!busAddr.errors.required">
                                                    Business Address is required!
                                                </span>

                                                <span [hidden]="!busAddr.errors.minlength">
                                                    Business Address must be at least 10 characters long.
                                                </span>

                                              </span>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="id-bus-website">Apt.Suit Number</label>
                                        <input type="text" class="form-control" 
                                          id="id-apt-ste" 
                                          name="aptSuite"
                                          [(ngModel)]="businessData.aptSuite"
                                          placeholder="Apt.Suit Number"
                                          #busAptSuite="ngModel">
                                    </div>
                            </div>
                            <div class="row form-group">
                                  <div class="col-md-6">
                                      <label for="id-bus-phone" class="">Business Phone</label>
                                      <input type="tel" class="form-control" 
                                        id="id-bus-phone" 
                                        name="busPhone"
                                        placeholder="Business Phone"
                                        [(ngModel)]="businessData.phone"
                                        #busPhone="ngModel"
                                        required
                                        minlength="10">

                                        <span *ngIf="busPhone.errors && (busPhone.dirty || busPhone.touched)" class="help-block">
                                            <span [hidden]="!busPhone.errors.required">
                                                Business Phone is required!
                                            </span>
                                            
                                            <span [hidden]="!busPhone.errors.minlength">
                                                Business Phone must be at least 10 characters long.
                                            </span>
                                          </span>
                                      
                                  </div>

                                  <div class="col-md-6">
                                    <label for="id-bus-email" class="">Business Email </label>
                                    <input class="form-control" 
                                      id="id-bus-email" 
                                      name="busEmail "
                                      placeholder="Business Email"
                                      [(ngModel)]="businessData.email"
                                      #busEmail="ngModel"
                                      required email pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
                                  
                                    <span *ngIf="busEmail.errors && (busEmail.dirty || busEmail.touched)" class="help-block">
                                        <span [hidden]="!busEmail.errors.required">
                                            Business Email is required!
                                        </span>
                                        <span [hidden]="!busEmail.errors.pattern">
                                            Not a valid email! 
                                          </span>
                                    </span>

                                  </div>
                            </div>
                            <div class="row form-group">
                                  <div class="col-md-6">
                                          <label class="control-label" for="selectCategory">Business Category</label>
                                          <div>
                                            <select name="busCategory" id="idBusCategory" 
                                            class="form-control"
                                            #cat="ngModel"
                                            [(ngModel)]="categorySelected" required>
                                                <ng-container *ngFor="let category of getAllCategories()">
                                                    <option 
                                                        [ngValue]="category">
                                                        {{category.categoryName}}
                                                    </option>
                                                </ng-container>
                                            </select>
                                          </div>
                                  </div>

                                  <div class="col-md-6">
                                      <label for="id-bus-phone" class="">Business Timezone </label>
                                      <input type="tel" class="form-control" 
                                        id="id-bus-timezone" 
                                        name="bus_time_zone "
                                        placeholder="Business Timezone"
                                        [(ngModel)]="businessData.bus_time_zone"
                                        #busTimezone="ngModel"
                                        required>
                                    
                                      <span *ngIf="busTimezone.errors && (busTimezone.dirty || busTimezone.touched)" class="help-block">
                                        <span [hidden]="!busTimezone.errors.required">
                                            Business Timezone is required!
                                        </span>
                                     </span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col">
                                    <label for="id-bus-phone" class="">Business Website </label>
                                    <input class="form-control" 
                                      id="id-bus-website" 
                                      name="busWebsite"
                                      [(ngModel)]="businessData.website"
                                      placeholder="Business Website "
                                      #busWebsite="ngModel">
                                    <!-- <span class="help-block" 
                                    [hidden]="busEmail.valid || busEmail.pristine">
                                        Business Website  is required
                                    </span> -->
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col">
                                    <label for="id-bus-appointment-ins" class="">Appointment Instructions </label>
            
                                    <textarea rows="2" class="form-control"
                                      id="id-bus-appointment-ins" 
                                      name="apptInstructions"
                                      [(ngModel)]="businessData.appointment_instructions"
                                      placeholder="Appointment Instructions"
                                      #busAppointments="ngModel">
                                    </textarea>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col">
                                    <label for="id-staff-salary" class="">Business Statement </label>
                                    <textarea rows="2" class="form-control"
                                      id="id-bus-statements" 
                                      name="busStatement"
                                      [(ngModel)]="businessData.statement_notes"
                                      placeholder="Business Statement"
                                      #busStatement="ngModel">
                                    </textarea>
                                </div>
                          </div>
                          <div class="row form-group">
                              <div class="col">
                                  <label for="id-staff-salary" class="">Awards  </label>
                                  <textarea rows="2" class="form-control"
                                    id="id-bus-awards" 
                                    name="busAwards"
                                    [(ngModel)]="businessData.awards"
                                    placeholder="Awards"
                                    #busAwards="ngModel"
                                    ngModel>
                                  </textarea>
                              </div>
                            </div>
                            <div class="row form-group">
                                <div class="col">
                                    <div *ngIf="businessLoaded">
                                        <label class="">Upload Images: </label>
                                        <image-upload 
                                           url="{{uploadApi}}"
                                           (removed)="onImageRemoved($event)"
                                           [headers]="awsHeaders"
                                           [beforeUpload]="onBeforeUpload"
                                           [uploadedFiles]="images"
                                           (uploadFinished)="onUploadFinished($event)">
                                        </image-upload>
                                    </div>
                                </div>
                              </div>

              <br/><br/>
    </div><!-- col-md-7 -->

    <div class="col-md-5">
        <div class="d-flex flex-column align-items-center">
            <div>
                <h6>Working hours</h6>
            </div>
            <div *ngIf="businessLoaded">
                <app-business-hours 
                   [startTime]="startTime"
                   [endTime]="endTime"
                   (onBeginTimeSelected)="beginTimeSelected($event)"
                   (onEndTimeSelected)="endTimeSelected($event)"
                   [busHours]="businessData.bus_hours">
                </app-business-hours>
            </div>
            
        </div>
    </div>

</div><!--row-->
<div class="row alert alert-danger mt-2" role="alert" *ngIf="error">
    <div class="col-12 text-right">
        {{errorMessage}}
    </div>
</div>
<div class="form-group margin-right-18-minus">
    <div class="col-md-12" align="right">
    <button id="btnSubmit" name="btnSubmit" class="btn btn-default my-btn btn-red cursor-pointer" 
    [disabled]="!addBusinessForm.form.valid">NEXT</button>
    </div>
</div>

</form>
  
</div>

